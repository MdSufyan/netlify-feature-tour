<!DOCTYPE html>
<html lang="en">
<head>
<style>
table, th, td {
  border:1px solid red;
  text:colour

}
</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrimonial Website</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
</head>

<body onload="getuserlist()">

    <header>
        <div class="info">
            <span><i class="fa fa-phone"></i> 7366848251</span>
            <span><i class="fa fa-envelope"> </i> Metrimonial@gmail.com</span>
        </div>
        <nav>
            <div class="logo">
                <i class="fa fa-gift"> </i>Magic Box
            </div>
            <div class="menu">
                <a href="#">Home</a>
                <a href="#">About Us</a>
                <a href="#">Services</a>
                <a href="#">Stats</a>
                <a href="#">Testimonials</a>
                <a href="#">Log In</a>
            </div>
        </nav>
          <div>
<table style="width:100%"bgcolor="white">
  <tr>
    <th>name</th>
    <th>Email</th>
    <th>Contact</th>
  </tr>
  <tr Id= "user-list">

</tr>
</table>

</div>
       
</header>

    <script>
        function getuserlist() {
             
             alert("inside getuserfunction");
            
            $.ajax({
                url: "http://localhost:8080/admin/userlist",  // Update with correct URL if necessary
                type: "GET", 
                dataType: "json",        
                success: function () {

                    alert('Get Success');
                   console.log(data);
                },
                
                let userList = '';
                    data.forEach(user => {
                        userList += `
                            <tr>
                                <td>${user.name}</td>
                                <td>${user.email}</td>
                                <td>${user.contact}</td>
                            </tr>
                        `;
                    });
                    document.getElementById('user-list').innerHTML = userList;
                },
                error: function (error) {
                    alert("Error: " + error.responseText);
                    console.error("Error:", error);
                }
            });
        }
    </script>

</body>
</html>
